{
  "address": "0x82e01223d51Eb87e16A03E24687EDF0F294da6f1",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "guardian_",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "priceProvider",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "oldGuardian",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "newGuardian",
          "type": "address"
        }
      ],
      "name": "NewGuardian",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "oldAddress",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "newAddress",
          "type": "address"
        }
      ],
      "name": "PriceOracleAdapterUpdated",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "assetPrices",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "guardian",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "priceProviderMoC",
      "outputs": [
        {
          "internalType": "contract PriceProviderMoC",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newGuardian",
          "type": "address"
        }
      ],
      "name": "setGuardian",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "priceProviderAddress",
          "type": "address"
        }
      ],
      "name": "setPriceProvider",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0x5f0dccaf3a7301bdf58a997224f92e8dbb43d9a4420a1278dee98ea483798f15",
  "receipt": {
    "to": null,
    "from": "0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266",
    "contractAddress": "0x82e01223d51Eb87e16A03E24687EDF0F294da6f1",
    "transactionIndex": 0,
    "gasUsed": "378544",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x294fc5c9303a7ffa693f0472d4f385ecd93b6530727e631797e906c6e588d534",
    "transactionHash": "0x5f0dccaf3a7301bdf58a997224f92e8dbb43d9a4420a1278dee98ea483798f15",
    "logs": [],
    "blockNumber": 55,
    "cumulativeGasUsed": "378544",
    "status": 1,
    "byzantium": true
  },
  "args": [
    "0x09635F643e140090A9A8Dcd712eD6285858ceBef",
    "0x67d269191c92Caf3cD7723F116c85e6E9bf55933"
  ],
  "solcInputHash": "3f2295c0e5923ce11cb0f26c6e52bee2",
  "metadata": "{\"compiler\":{\"version\":\"0.8.6+commit.11564f7e\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"guardian_\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"priceProvider\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"oldGuardian\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"newGuardian\",\"type\":\"address\"}],\"name\":\"NewGuardian\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"oldAddress\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"newAddress\",\"type\":\"address\"}],\"name\":\"PriceOracleAdapterUpdated\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"assetPrices\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"guardian\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"priceProviderMoC\",\"outputs\":[{\"internalType\":\"contract PriceProviderMoC\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newGuardian\",\"type\":\"address\"}],\"name\":\"setGuardian\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"priceProviderAddress\",\"type\":\"address\"}],\"name\":\"setPriceProvider\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"assetPrices(address)\":{\"returns\":{\"_0\":\"The price\"}},\"constructor\":{\"params\":{\"guardian_\":\"address of guardian that is allowed to manage this contract\",\"priceProvider\":\"address of asset's MoC price provider\"}},\"setGuardian(address)\":{\"params\":{\"newGuardian\":\"address of the guardian\"}},\"setPriceProvider(address)\":{\"params\":{\"priceProviderAddress\":\"address of price provider\"}}},\"version\":1},\"userdoc\":{\"events\":{\"NewGuardian(address,address)\":{\"notice\":\"Guardian updated\"},\"PriceOracleAdapterUpdated(address,address)\":{\"notice\":\"Event adapter interface updated\"}},\"kind\":\"user\",\"methods\":{\"assetPrices(address)\":{\"notice\":\"Get the price from MoC and divide it by the rBTC price\"},\"constructor\":{\"notice\":\"Construct a PriceOracleAdapter for a MoC oracle\"},\"guardian()\":{\"notice\":\"Address of the guardian\"},\"priceProviderMoC()\":{\"notice\":\"The MoC price oracle, which will continue to serve prices\"},\"setGuardian(address)\":{\"notice\":\"Set the address of the guardian\"},\"setPriceProvider(address)\":{\"notice\":\"Set the address of price provider\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/PriceOracleAdapterMoc.sol\":\"PriceOracleAdapterMoc\"},\"evmVersion\":\"berlin\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"contracts/PriceOracleAdapter.sol\":{\"content\":\"// SPDX-License-Identifier: UNLICENSED\\npragma solidity 0.8.6;\\n\\nabstract contract PriceOracleAdapter {\\n    /// @notice Event adapter interface updated\\n    event PriceOracleAdapterUpdated(address oldAddress, address newAddress);\\n\\n    /**\\n     * @notice Get the price\\n     * @return The underlying asset price mantissa (scaled by 1e18).\\n     *  Zero means the price is unavailable.\\n     */\\n    function assetPrices(address cTokenAddress)\\n        external\\n        view\\n        virtual\\n        returns (uint256);\\n}\\n\",\"keccak256\":\"0xce2a8f27186d355a24a4402469afe76e4522e97ad9a1a8388defd85fa4c054ec\",\"license\":\"UNLICENSED\"},\"contracts/PriceOracleAdapterMoc.sol\":{\"content\":\"// SPDX-License-Identifier: UNLICENSED\\npragma solidity 0.8.6;\\n\\nimport \\\"./PriceOracleAdapter.sol\\\";\\n\\ninterface PriceProviderMoC {\\n    function peek() external view returns (bytes32, bool);\\n}\\n\\ncontract PriceOracleAdapterMoc is PriceOracleAdapter {\\n    /// @notice Address of the guardian\\n    address public guardian;\\n    /// @notice The MoC price oracle, which will continue to serve prices\\n    PriceProviderMoC public priceProviderMoC;\\n\\n    /// @notice Guardian updated\\n    event NewGuardian(address oldGuardian, address newGuardian);\\n\\n    /**\\n     * @notice Construct a PriceOracleAdapter for a MoC oracle\\n     * @param guardian_ address of guardian that is allowed to manage this contract\\n     * @param priceProvider address of asset's MoC price provider\\n     */\\n    constructor(address guardian_, address priceProvider) {\\n        require(\\n            guardian_ != address(0),\\n            \\\"PriceOracleAdapterMoc: guardian could not be 0\\\"\\n        );\\n        require(\\n            priceProvider != address(0),\\n            \\\"PriceOracleAdapterMoc: priceProvider could not be 0\\\"\\n        );\\n        guardian = guardian_;\\n        priceProviderMoC = PriceProviderMoC(priceProvider);\\n    }\\n\\n    /**\\n     * @notice Get the price from MoC and divide it by the rBTC price\\n     * @return The price\\n     */\\n    function assetPrices(address) public view override returns (uint256) {\\n        (bytes32 price, bool has) = priceProviderMoC.peek();\\n        require(has, \\\"PriceOracleAdapterMoc: Oracle have no Price\\\");\\n        return uint256(price);\\n    }\\n\\n    /**\\n     * @notice Set the address of price provider\\n     * @param priceProviderAddress address of price provider\\n     */\\n    function setPriceProvider(address priceProviderAddress) public {\\n        require(\\n            msg.sender == guardian,\\n            \\\"PriceOracleAdapterMoc: only guardian may set the address\\\"\\n        );\\n        require(\\n            priceProviderAddress != address(0),\\n            \\\"PriceOracleAdapterMoc: address could not be 0\\\"\\n        );\\n        //set old address\\n        address oldPriceProviderAddress = address(priceProviderMoC);\\n        //update interface address\\n        priceProviderMoC = PriceProviderMoC(priceProviderAddress);\\n        //emit event\\n        emit PriceOracleAdapterUpdated(\\n            oldPriceProviderAddress,\\n            priceProviderAddress\\n        );\\n    }\\n\\n    /**\\n     * @notice Set the address of the guardian\\n     * @param newGuardian address of the guardian\\n     */\\n    function setGuardian(address newGuardian) public {\\n        require(msg.sender == guardian, \\\"PriceOracleAdapterMoc: only guardian\\\");\\n        require(\\n            guardian != address(0),\\n            \\\"PriceOracleAdapterMoc: guardin address can not be 0\\\"\\n        );\\n        //set old address\\n        address oldGuardian = guardian;\\n        //update\\n        guardian = newGuardian;\\n        //emit event\\n        emit NewGuardian(oldGuardian, newGuardian);\\n    }\\n}\\n\",\"keccak256\":\"0x6dc53b5de8b6f9e0b65eab05bfa3833f6bbf20444f2cc652da1b5a2dd592c462\",\"license\":\"UNLICENSED\"}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b506040516106ac3803806106ac83398101604081905261002f9161016a565b6001600160a01b0382166100a15760405162461bcd60e51b815260206004820152602e60248201527f50726963654f7261636c65416461707465724d6f633a20677561726469616e2060448201526d0636f756c64206e6f7420626520360941b60648201526084015b60405180910390fd5b6001600160a01b03811661011d5760405162461bcd60e51b815260206004820152603360248201527f50726963654f7261636c65416461707465724d6f633a20707269636550726f7660448201527f6964657220636f756c64206e6f742062652030000000000000000000000000006064820152608401610098565b600080546001600160a01b039384166001600160a01b0319918216179091556001805492909316911617905561019d565b80516001600160a01b038116811461016557600080fd5b919050565b6000806040838503121561017d57600080fd5b6101868361014e565b91506101946020840161014e565b90509250929050565b610500806101ac6000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c806303fa251b1461005c578063372aa2241461008c578063452a9320146100a15780635e9a523c146100b45780638a0dac4a146100d5575b600080fd5b60015461006f906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b61009f61009a366004610465565b6100e8565b005b60005461006f906001600160a01b031681565b6100c76100c2366004610465565b61023b565b604051908152602001610083565b61009f6100e3366004610465565b610331565b6000546001600160a01b0316331461016d5760405162461bcd60e51b815260206004820152603860248201527f50726963654f7261636c65416461707465724d6f633a206f6e6c79206775617260448201527f6469616e206d617920736574207468652061646472657373000000000000000060648201526084015b60405180910390fd5b6001600160a01b0381166101d95760405162461bcd60e51b815260206004820152602d60248201527f50726963654f7261636c65416461707465724d6f633a2061646472657373206360448201526c06f756c64206e6f74206265203609c1b6064820152608401610164565b600180546001600160a01b038381166001600160a01b031983168117909355604080519190921680825260208201939093527f58d7caa9bcc8339b310213ec53c711c9157920c93aef03ac3c4a16ce01bc602e91015b60405180910390a15050565b6000806000600160009054906101000a90046001600160a01b03166001600160a01b03166359e02dd76040518163ffffffff1660e01b8152600401604080518083038186803b15801561028d57600080fd5b505afa1580156102a1573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102c59190610495565b915091508061032a5760405162461bcd60e51b815260206004820152602b60248201527f50726963654f7261636c65416461707465724d6f633a204f7261636c6520686160448201526a7665206e6f20507269636560a81b6064820152608401610164565b5092915050565b6000546001600160a01b031633146103975760405162461bcd60e51b8152602060048201526024808201527f50726963654f7261636c65416461707465724d6f633a206f6e6c7920677561726044820152633234b0b760e11b6064820152608401610164565b6000546001600160a01b031661040b5760405162461bcd60e51b815260206004820152603360248201527f50726963654f7261636c65416461707465724d6f633a206775617264696e206160448201527206464726573732063616e206e6f74206265203606c1b6064820152608401610164565b600080546001600160a01b038381166001600160a01b031983168117909355604080519190921680825260208201939093527f08fdaf06427a2010e5958f4329b566993472d14ce81d3f16ce7f2a2660da98e3910161022f565b60006020828403121561047757600080fd5b81356001600160a01b038116811461048e57600080fd5b9392505050565b600080604083850312156104a857600080fd5b82519150602083015180151581146104bf57600080fd5b80915050925092905056fea2646970667358221220b3bf3342ac9831f468619e5dd1c72b3b86a808aa0bd558fde453ce03f4f9a2e764736f6c63430008060033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100575760003560e01c806303fa251b1461005c578063372aa2241461008c578063452a9320146100a15780635e9a523c146100b45780638a0dac4a146100d5575b600080fd5b60015461006f906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b61009f61009a366004610465565b6100e8565b005b60005461006f906001600160a01b031681565b6100c76100c2366004610465565b61023b565b604051908152602001610083565b61009f6100e3366004610465565b610331565b6000546001600160a01b0316331461016d5760405162461bcd60e51b815260206004820152603860248201527f50726963654f7261636c65416461707465724d6f633a206f6e6c79206775617260448201527f6469616e206d617920736574207468652061646472657373000000000000000060648201526084015b60405180910390fd5b6001600160a01b0381166101d95760405162461bcd60e51b815260206004820152602d60248201527f50726963654f7261636c65416461707465724d6f633a2061646472657373206360448201526c06f756c64206e6f74206265203609c1b6064820152608401610164565b600180546001600160a01b038381166001600160a01b031983168117909355604080519190921680825260208201939093527f58d7caa9bcc8339b310213ec53c711c9157920c93aef03ac3c4a16ce01bc602e91015b60405180910390a15050565b6000806000600160009054906101000a90046001600160a01b03166001600160a01b03166359e02dd76040518163ffffffff1660e01b8152600401604080518083038186803b15801561028d57600080fd5b505afa1580156102a1573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102c59190610495565b915091508061032a5760405162461bcd60e51b815260206004820152602b60248201527f50726963654f7261636c65416461707465724d6f633a204f7261636c6520686160448201526a7665206e6f20507269636560a81b6064820152608401610164565b5092915050565b6000546001600160a01b031633146103975760405162461bcd60e51b8152602060048201526024808201527f50726963654f7261636c65416461707465724d6f633a206f6e6c7920677561726044820152633234b0b760e11b6064820152608401610164565b6000546001600160a01b031661040b5760405162461bcd60e51b815260206004820152603360248201527f50726963654f7261636c65416461707465724d6f633a206775617264696e206160448201527206464726573732063616e206e6f74206265203606c1b6064820152608401610164565b600080546001600160a01b038381166001600160a01b031983168117909355604080519190921680825260208201939093527f08fdaf06427a2010e5958f4329b566993472d14ce81d3f16ce7f2a2660da98e3910161022f565b60006020828403121561047757600080fd5b81356001600160a01b038116811461048e57600080fd5b9392505050565b600080604083850312156104a857600080fd5b82519150602083015180151581146104bf57600080fd5b80915050925092905056fea2646970667358221220b3bf3342ac9831f468619e5dd1c72b3b86a808aa0bd558fde453ce03f4f9a2e764736f6c63430008060033",
  "devdoc": {
    "kind": "dev",
    "methods": {
      "assetPrices(address)": {
        "returns": {
          "_0": "The price"
        }
      },
      "constructor": {
        "params": {
          "guardian_": "address of guardian that is allowed to manage this contract",
          "priceProvider": "address of asset's MoC price provider"
        }
      },
      "setGuardian(address)": {
        "params": {
          "newGuardian": "address of the guardian"
        }
      },
      "setPriceProvider(address)": {
        "params": {
          "priceProviderAddress": "address of price provider"
        }
      }
    },
    "version": 1
  },
  "userdoc": {
    "events": {
      "NewGuardian(address,address)": {
        "notice": "Guardian updated"
      },
      "PriceOracleAdapterUpdated(address,address)": {
        "notice": "Event adapter interface updated"
      }
    },
    "kind": "user",
    "methods": {
      "assetPrices(address)": {
        "notice": "Get the price from MoC and divide it by the rBTC price"
      },
      "constructor": {
        "notice": "Construct a PriceOracleAdapter for a MoC oracle"
      },
      "guardian()": {
        "notice": "Address of the guardian"
      },
      "priceProviderMoC()": {
        "notice": "The MoC price oracle, which will continue to serve prices"
      },
      "setGuardian(address)": {
        "notice": "Set the address of the guardian"
      },
      "setPriceProvider(address)": {
        "notice": "Set the address of price provider"
      }
    },
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 39863,
        "contract": "contracts/PriceOracleAdapterMoc.sol:PriceOracleAdapterMoc",
        "label": "guardian",
        "offset": 0,
        "slot": "0",
        "type": "t_address"
      },
      {
        "astId": 39867,
        "contract": "contracts/PriceOracleAdapterMoc.sol:PriceOracleAdapterMoc",
        "label": "priceProviderMoC",
        "offset": 0,
        "slot": "1",
        "type": "t_contract(PriceProviderMoC)39858"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_contract(PriceProviderMoC)39858": {
        "encoding": "inplace",
        "label": "contract PriceProviderMoC",
        "numberOfBytes": "20"
      }
    }
  }
}